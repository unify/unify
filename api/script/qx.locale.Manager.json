{"attributes": {"name": "Manager", "packageName": "qx.locale", "superClass": "qx.core.Object", "isSingleton": true, "fullName": "qx.locale.Manager", "type": "class"}, "type": "class", "children": [{"attributes": {"text": "<p>The qx.locale.Manager provides static translation methods (like tr()) and\ngeneral locale information.</p>"}, "type": "desc"}, {"type": "constructor", "children": [{"attributes": {"docFrom": "qx.core.Object", "overriddenFrom": "qx.core.Object", "isCtor": true, "name": "ctor"}, "type": "method"}]}, {"type": "methods-static", "children": [{"attributes": {"isStatic": true, "name": "getInstance"}, "type": "method", "children": [{"attributes": {"text": "<p>Returns a singleton instance of this class. On the first call the class\nis instantiated by calling the constructor with no arguments. All following\ncalls will return this instance.</p>\n\n<p>This method has been added by setting the &#8220;type&#8221; key in the class definition\n({@link qx.Class#define}) to &#8220;singleton&#8221;.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>The singleton instance of this class.</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "qx.locale.Manager"}, "type": "entry"}]}]}]}, {"attributes": {"isStatic": true, "name": "marktr"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "messageId"}, "type": "param", "children": [{"attributes": {"text": "<p>the message ID</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Mark the message for translation but return the original message.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>messageId</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"isStatic": true, "name": "tr"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "messageId"}, "type": "param", "children": [{"attributes": {"text": "<p>message id (may contain format strings)</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "varargs"}, "type": "param", "children": [{"attributes": {"text": "<p>variable number of arguments applied to the format string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Object"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Translate a message</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>The translated string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "qx.lang.String.format"}, "type": "see"}]}, {"attributes": {"isStatic": true, "name": "trc"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "hint"}, "type": "param", "children": [{"attributes": {"text": "<p>hint for the translator of the message. Will be included in the .po file.</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "messageId"}, "type": "param", "children": [{"attributes": {"text": "<p>message id (may contain format strings)</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "varargs"}, "type": "param", "children": [{"attributes": {"text": "<p>variable number of arguments applied to the format string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Object"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Translate a message with translation hint</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>The translated string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "qx.lang.String.format"}, "type": "see"}]}, {"attributes": {"isStatic": true, "name": "trn"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "singularMessageId"}, "type": "param", "children": [{"attributes": {"text": "<p>message id of the singular form (may contain format strings)</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "pluralMessageId"}, "type": "param", "children": [{"attributes": {"text": "<p>message id of the plural form (may contain format strings)</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "count"}, "type": "param", "children": [{"attributes": {"text": "<p>singular form if equals 1, otherwise plural</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Integer"}, "type": "entry"}]}]}, {"attributes": {"name": "varargs"}, "type": "param", "children": [{"attributes": {"text": "<p>variable number of arguments applied to the format string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Object"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Translate a plural message</p>\n\n<p>Depending on the third argument the plural or the singular form is chosen.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>The translated string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "qx.lang.String.format"}, "type": "see"}]}]}, {"type": "events", "children": [{"attributes": {"name": "changeLocale"}, "type": "event", "children": [{"attributes": {"text": "Fired on change of the property {@link #locale}."}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "qx.event.type.Data"}, "type": "entry"}]}]}]}, {"type": "methods", "children": [{"attributes": {"access": "private", "name": "__extractLanguage"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "locale"}, "type": "param", "children": [{"attributes": {"text": "<p>locale to be used</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Extract the language part from a locale.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>language</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"access": "private", "name": "__lookupAndExpand"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "catalog"}, "type": "param", "children": [{"attributes": {"text": "<p>map of I18N keys and their values</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Map"}, "type": "entry"}]}]}, {"attributes": {"name": "messageId"}, "type": "param", "children": [{"attributes": {"text": "<p>message id (may contain format strings)</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "args"}, "type": "param", "children": [{"attributes": {"text": "<p>array of objects, which are inserted into the format string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Object", "dimensions": 1}, "type": "entry"}]}]}, {"attributes": {"defaultValue": "#locale", "name": "locale"}, "type": "param", "children": [{"attributes": {"text": "<p>locale to be used; if not given, defaults to the value of {@link #locale}</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Look up an I18N key in a catalog and expand format strings.</p>\n\n<p>Implements the lookup chain locale (e.g. en_US) -> language (e.g. en) ->\ndefault locale (e.g. C). Localizes the arguments if possible and splices\nthem into the message. If qx.dynlocale is on, returns a {@link\nLocalizedString}.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>translated message or localized string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}, {"attributes": {"type": "LocalizedString"}, "type": "entry"}]}]}]}, {"attributes": {"access": "protected", "apply": "qx.locale.Manager#locale", "name": "_applyLocale"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>new value of the property</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "old"}, "type": "param", "children": [{"attributes": {"text": "<p>previous value of the property (null if it was not yet set).</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Applies changes of the property value of the property <code>locale</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #locale}.</p>"}, "type": "desc"}]}, {"attributes": {"name": "addLocale"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "localeCode"}, "type": "param", "children": [{"attributes": {"text": "<p>locale code of the translation like <i>de, de_AT, en, en_GB, fr, ...</i></p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "localeMap"}, "type": "param", "children": [{"attributes": {"text": "<p>mapping of locale keys to the target locale values, e.g.\n                       <i>{&#8220;cldr_date_format_short&#8221; : &#8220;M/d/yy&#8221;}</i>.</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Map"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Add a localization to the localization manager.</p>\n\n<p>If <code>localeCode</code> already exists, its map will be updated with\n<code>localeMap</code> (new keys will be added, existing keys will be overwritten).</p>"}, "type": "desc"}, {"type": "return", "children": [{"type": "types", "children": [{"attributes": {"type": "void"}, "type": "entry"}]}]}]}, {"attributes": {"name": "addTranslation"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "languageCode"}, "type": "param", "children": [{"attributes": {"text": "<p>language code of the translation like <i>de, de_AT, en, en_GB, fr, ...</i></p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "translationMap"}, "type": "param", "children": [{"attributes": {"text": "<p>mapping of message identifiers to message strings in the target\n                            language, e.g. <i>{&#8220;greeting_short&#8221; : &#8220;Hello&#8221;}</i>. Plural forms\n                            are separate keys.</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Map"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Add a translation to the translation manager.</p>\n\n<p>If <code>languageCode</code> already exists, its map will be updated with\n<code>translationMap</code> (new keys will be added, existing keys will be\noverwritten).</p>"}, "type": "desc"}, {"type": "return", "children": [{"type": "types", "children": [{"attributes": {"type": "void"}, "type": "entry"}]}]}]}, {"attributes": {"name": "getAvailableLocales"}, "type": "method", "children": [{"attributes": {"text": "<p>Return the available application locales</p>\n\n<p>This corresponds to the Makefile APPLICATION_LOCALES setting</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>array of available locales</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String", "dimensions": 1}, "type": "entry"}]}]}]}, {"attributes": {"name": "getLanguage"}, "type": "method", "children": [{"attributes": {"text": "<p>Get the language code of the current locale</p>\n\n<p>This is the first part of a locale definition. The language for &#8220;de_DE&#8221; would be &#8220;de&#8221;</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>language code</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"name": "getLocale", "fromProperty": "locale"}, "type": "method", "children": [{"attributes": {"text": "<p>Returns the (computed) value of the property <code>locale</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #locale}.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>(Computed) value of <code>locale</code>.</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"name": "getTerritory"}, "type": "method", "children": [{"attributes": {"text": "<p>Get the territory code of the current locale</p>\n\n<p>This is the second part of a locale definition. The territory for &#8220;de_DE&#8221; would be &#8220;DE&#8221;</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>territory code</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"access": "protected", "name": "initLocale", "fromProperty": "locale"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>Initial value for property <code>locale</code>.</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Calls the apply method and dispatches the change event of the property <code>locale</code>\nwith the default value defined by the class developer. This function can\nonly be called from the constructor of a class.</p>\n\n<p>For further details take a look at the property definition: {@link #locale}.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>the default value</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"name": "localize"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "messageId"}, "type": "param", "children": [{"attributes": {"text": "<p>message id (may contain format strings)</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "args"}, "type": "param", "children": [{"attributes": {"text": "<p>array of objects, which are inserted into the format string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Object", "dimensions": 1}, "type": "entry"}]}]}, {"attributes": {"defaultValue": "#locale", "name": "locale"}, "type": "param", "children": [{"attributes": {"text": "<p>locale to be used; if not given, defaults to the value of {@link #locale}</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Provide localisation (CLDR) data.</p>\n\n<p>Implements the lookup chain locale (e.g. en_US) -> language (e.g. en) ->\ndefault locale (e.g. C). Localizes the arguments if possible and splices\nthem into the message. If qx.dynlocale is on, returns a {@link\nLocalizedString}.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>translated message or localized string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}, {"attributes": {"type": "LocalizedString"}, "type": "entry"}]}]}]}, {"attributes": {"name": "resetLocale", "fromProperty": "locale"}, "type": "method", "children": [{"attributes": {"text": "<p>Resets the user value of the property <code>locale</code>.</p>\n\n<p>The computed value falls back to the next available value e.g. appearance, init or\ninheritance value depeneding on the property configuration and value availability.</p>\n\n<p>For further details take a look at the property definition: {@link #locale}.</p>"}, "type": "desc"}, {"type": "return", "children": [{"type": "types", "children": [{"attributes": {"type": "void"}, "type": "entry"}]}]}]}, {"attributes": {"name": "setLocale", "fromProperty": "locale"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "value"}, "type": "param", "children": [{"attributes": {"text": "<p>New value for property <code>locale</code>.</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Sets the user value of the property <code>locale</code>.</p>\n\n<p>For further details take a look at the property definition: {@link #locale}.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>The unmodified incoming value.</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "var"}, "type": "entry"}]}]}]}, {"attributes": {"name": "translate"}, "type": "method", "children": [{"type": "params", "children": [{"attributes": {"name": "messageId"}, "type": "param", "children": [{"attributes": {"text": "<p>message id (may contain format strings)</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}, {"attributes": {"name": "args"}, "type": "param", "children": [{"attributes": {"text": "<p>array of objects, which are inserted into the format string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "Object", "dimensions": 1}, "type": "entry"}]}]}, {"attributes": {"defaultValue": "#locale", "name": "locale"}, "type": "param", "children": [{"attributes": {"text": "<p>locale to be used; if not given, defaults to the value of {@link #locale}</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}]}]}]}, {"attributes": {"text": "<p>Translate a message using the current locale and apply format string to the arguments.</p>\n\n<p>Implements the lookup chain locale (e.g. en_US) -> language (e.g. en) ->\ndefault locale (e.g. C). Localizes the arguments if possible and splices\nthem into the message. If qx.dynlocale is on, returns a {@link\nLocalizedString}.</p>"}, "type": "desc"}, {"type": "return", "children": [{"attributes": {"text": "<p>translated message or localized string</p>"}, "type": "desc"}, {"type": "types", "children": [{"attributes": {"type": "String"}, "type": "entry"}, {"attributes": {"type": "LocalizedString"}, "type": "entry"}]}]}]}]}, {"type": "properties", "children": [{"attributes": {"name": "locale", "check": "String", "allowNull": "true", "propertyType": "new", "apply": "_applyLocale", "event": "changeLocale"}, "type": "property", "children": [{"attributes": {"text": "<p>current locale. locale is an language code like de, de_AT, en, en_GB, fr, ...</p>"}, "type": "desc"}]}]}]}